import{r as h,T as w,c as n,a as u,u as i,Z as k,w as b,b as t,d as _,o as r,F as m,i as y,t as a,k as C,f as B,p as L}from"./app-DicuFCha.js";import{_ as M}from"./AdminLayout-DZ2rE5hL.js";const V={class:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden"},j={class:"w-full text-left border-collapse"},A={class:"divide-y divide-slate-100"},$={class:"px-6 py-4"},z={class:"text-sm font-semibold text-slate-900"},D={class:"text-[10px] text-slate-400 mt-0.5"},E={class:"px-6 py-4 text-sm text-slate-600"},N={class:"px-6 py-4"},S={class:"px-6 py-4 text-right"},U=["onClick"],F={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},H={class:"relative bg-white rounded-2xl w-full max-w-md shadow-2xl border border-slate-200 overflow-hidden"},I={class:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50"},T={class:"text-lg font-bold text-slate-900"},Z={class:"p-6 space-y-4"},q=["disabled"],O={__name:"Index",props:{users:Array},setup(v){const c={0:{name:"Пользователь",color:"text-slate-600 bg-slate-100"},1:{name:"Администратор",color:"text-indigo-600 bg-indigo-50"},2:{name:"Менеджер",color:"text-emerald-600 bg-emerald-50"}},o=h(null),l=w({role:""}),g=d=>{o.value=d,l.role=d.role},f=()=>{l.patch(route("admin.users.update-role",o.value.id),{onSuccess:()=>{o.value=null}})};return(d,e)=>(r(),n(m,null,[u(i(k),{title:"Сотрудники"}),u(M,null,{header:b(()=>[...e[3]||(e[3]=[t("h1",{class:"text-2xl font-bold text-slate-900"},"Управление сотрудниками",-1),t("p",{class:"text-sm text-slate-500 mt-1"},"Здесь вы можете видеть всех менеджеров и менять их роли",-1)])]),default:b(()=>[t("div",V,[t("table",j,[e[5]||(e[5]=t("thead",null,[t("tr",{class:"bg-slate-50/50 border-b border-slate-200"},[t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider"},"Имя"),t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider"},"Username"),t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider"},"Роль"),t("th",{class:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right"},"Действия")])],-1)),t("tbody",A,[(r(!0),n(m,null,y(v.users,s=>{var x,p;return r(),n("tr",{key:s.id,class:"hover:bg-slate-50/50 transition-colors"},[t("td",$,[t("div",z,a(s.name),1),t("div",D,"ID: "+a(s.id),1)]),t("td",E,a(s.username?"@"+s.username:"—"),1),t("td",N,[t("span",{class:C(["px-2.5 py-1 rounded-lg text-xs font-bold inline-block",(x=c[s.role])==null?void 0:x.color])},a((p=c[s.role])==null?void 0:p.name),3)]),t("td",S,[t("button",{onClick:G=>g(s),class:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all"},[...e[4]||(e[4]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])],8,U)])])}),128))])])]),o.value?(r(),n("div",F,[t("div",{onClick:e[0]||(e[0]=s=>o.value=null),class:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity"}),t("div",H,[t("div",I,[t("h2",T,"Изменение роли: "+a(o.value.name),1),t("button",{onClick:e[1]||(e[1]=s=>o.value=null),class:"text-slate-400 hover:text-slate-600 p-2"},[...e[6]||(e[6]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Z,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-semibold text-slate-700 mb-2"},"Выберите роль",-1)),B(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>i(l).role=s),class:"w-full border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 transition-all"},[...e[7]||(e[7]=[t("option",{value:"0"},"Пользователь (Обычный)",-1),t("option",{value:"2"},"Менеджер (Только свои заявки)",-1),t("option",{value:"1"},"Администратор (Полный доступ)",-1)])],512),[[L,i(l).role]])]),t("button",{onClick:f,disabled:i(l).processing,class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-indigo-200 disabled:opacity-50"}," Сохранить изменения ",8,q)])])])):_("",!0)]),_:1})],64))}};export{O as default};
